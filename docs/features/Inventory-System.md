# Inventory-System

## 1. インベントリの基本コンセプト
インベントリは、プレイヤーがダンジョン探索中に取得したアイテムやゴールドを管理するためのシステムです。リソース管理、戦略的なアイテム使用、および探索の継続性を支える重要な要素です。

## 2. アイテムの種類
[実装詳細](../implementation/Implementation-Details.md) の `PickUpResult` に基づき、以下の種別を管理します。

### 2.1 ゴールド (Type 1)
- ダンジョン内で拾得可能な通貨です。
- 所持金として累積され、インベントリの枠（スロット）は消費しません。
- ショップでの購入やサービスの利用に使用されます。

### 2.2 アイテム (Type 2)
- ダンジョン内で拾得可能な物品です。
- インベントリのスロットを消費して保持します。
- 主なサブカテゴリ（予定）:
    - **食料**: [満腹度システム](Hunger-System.md) に基づき、満腹度を回復させます。
    - **巻物・薬**: 即時効果や特殊な効果（鑑定など）を発動します。
    - **装備品**: プレイヤーのステータスを強化します（[TODO-Details](../TODO-Details.md) 参照）。

## 3. インベントリの機能

### 3.1 アイテムの取得
- 足元にあるアイテムを「拾う（pickup）」コマンドでインベントリに格納します。
- インベントリが満杯の場合、新しいアイテムを拾うことはできません。

### 3.2 アイテムの使用
- インベントリからアイテムを選択して「使う」ことができます。
- 食料であれば満腹度が回復し、巻物であれば魔法効果が発動します。

### 3.3 アイテムの破棄
- 不要なアイテムを足元に「置く」または「捨てる」ことができます。

### 3.4 アイテムの識別
- [TODO-Details](../TODO-Details.md) にある通り、一部のアイテムは未識別の状態で入手される場合があります。
- 「鑑定の巻物」を使用するか、実際に使用・装備することで正体が判明します。

## 4. UI・UX 設計
詳細は [UI・UX設計](UI-UX-Design.md) を参照してください。

- **インベントリ画面**: 現在の所持アイテムを一覧表示します。
- **アイテム詳細**: アイテムを選択した際、その名称、説明、および実行可能なアクション（使う、捨てる等）を表示します。
- **ショートカット**: 頻繁に使用するアイテムをクイックアクセススロットに登録できる機能を検討中です。

## 5. データモデルの定義

### 5.1 InventoryItem
```typescript
{
  id: string;          // アイテム固有のID
  name: string;        // アイテム名（未識別時は「謎の薬」など）
  originalName: string; // 本来のアイテム名
  type: number;        // アイテム種別（2=アイテム）
  subType: string;     // サブカテゴリ（food, scroll, equipment等）
  description: string; // アイテムの説明
  isIdentified: boolean; // 識別済みかどうか
  value: number;       // 売却価格/購入価格のベース
}
```

### 5.2 Player (インベントリ拡張)
[Playerモデル](../implementation/Implementation-Details.md) に以下の項目を追加することを想定しています。
```typescript
{
  // ... 既存の項目
  inventory: InventoryItem[]; // 所持アイテムのリスト
  inventoryCapacity: number;  // インベントリの最大容量
}
```
