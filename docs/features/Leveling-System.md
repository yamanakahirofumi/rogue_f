# Leveling-System

## 1. 概要
プレイヤーの成長要素として、経験値（EXP）の獲得とレベルアップの仕組みを導入します。これにより、プレイヤーはダンジョン探索を通じてキャラクターを強化し、より深い階層への挑戦が可能になります。

## 2. 経験値の獲得
経験値は主に以下の行動によって獲得されます。
- **モンスターの撃破**: 倒したモンスターの強さに応じた経験値を獲得します。
- **階層の突破**: 新しい階層に到達した際にボーナス経験値を獲得します。

## 3. レベルアップの仕組み
累積経験値が一定値（次レベルへの必要経験値）に達すると、プレイヤーのレベルが上昇します。

### 3.1 必要経験値の計算式
次レベルへの必要経験値（`nextExp`）は以下の式で算出します。
`nextExp = 100 * (レベル ^ 1.5)`
（※小数点以下は切り捨て）

### 3.2 レベルアップ時の効果
レベルアップ時には以下のステータスが上昇します。
- **最大HP**: 上昇
- **最大スタミナ**: 上昇（緩やかに）
- **攻撃力**: 上昇
- **防御力**: 上昇
- **全回復**: HPとスタミナが最大値まで回復します。

## 4. ステータス成長表（目安）
| レベル | 累積経験値 | 次レベルまで | 最大HP | 最大スタミナ | 攻撃力 | 防御力 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | 0 | 100 | 100 | 100 | 10 | 5 |
| 2 | 100 | 282 | 110 | 102 | 12 | 6 |
| 3 | 382 | 519 | 121 | 104 | 14 | 7 |
| 10 | ... | ... | 235 | 120 | 30 | 15 |

## 5. データモデルとの関連
本システムで使用する値は、[Player型定義](../../src/@types/player.d.ts) および [実装詳細](../implementation/Implementation-Details.md) に定義される `Player` オブジェクトによって管理されます。

### 同期方針
レベルアップ判定およびステータス計算はバックエンドで行われ、フロントエンドは API を通じて最新の `Player` データを取得・反映します。
